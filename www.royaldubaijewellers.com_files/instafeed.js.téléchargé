$(function(){var $target=$("#instafeed");$target.instagramLite({clientID:$target.data("client-id"),urls:!0,videos:!0,limit:$target.data("count"),error:function(errorCode,errorMessage){errorCode&&errorMessage&&alert(errorCode+": "+errorMessage)}})}),function($2){$2.fn.instagramLite=function(options){if(!this.length)return this;var defaults={username:null,clientID:null,limit:null,list:!0,videos:!1,urls:!1,captions:!1,date:!1,likes:!1,max_id:null,loadMore:null,error:function(){},success:function(){}};self.plugin=this,self.plugin.settings={},self.plugin.settings=$2.extend({},defaults,options),self.el=$2(this),self.loadContent(),plugin.settings.loadMore&&$2(plugin.settings.loadMore).on("click",function(e){e.preventDefault(),self.loadContent()})},getMaxId=function(items){return items[items.length-1].id},formatCaption=function(caption){for(var words=caption.split(" "),newCaption="",i=0;i<words.length;i++){var word;if(words[i][0]=="@"){var a='<a href="http://twitter.com/'+words[i].replace("@","").toLowerCase()+'" target="_blank">'+words[i]+"</a>";word=a}else if(words[i][0]=="#"){var a='<a href="http://twitter.com/hashtag/'+words[i].replace("#","").toLowerCase()+'" target="_blank">'+words[i]+"</a>";word=a}else word=words[i];newCaption+=word+" "}return newCaption},loadContent=function(){plugin.settings.clientID?el.each(function(){var url="https://api.instagram.com/v1/users/self/media/recent/?access_token="+plugin.settings.clientID+"&count="+plugin.settings.limit+"&callback=?";url+=plugin.settings.max_id?"&max_id="+plugin.settings.max_id:"",$2.ajax({type:"GET",url:url,dataType:"jsonp",success:function(data){if(data.meta.code===200&&data.data.length){for(var i=0;i<data.data.length;i++){var thisMedia=data.data[i],item;if(thisMedia.type==="image"){if(item='<img class="il-photo__img" src="'+thisMedia.images.standard_resolution.url+'" alt="Instagram Image" data-filter="'+thisMedia.filter+'" />',plugin.settings.urls&&(item='<a href="'+thisMedia.link+'" target="_blank">'+item+"</a>"),(plugin.settings.captions||plugin.settings.date||plugin.settings.likes)&&(item+='<div class="il-photo__meta">'),plugin.settings.captions&&thisMedia.caption&&(item+='<div class="il-photo__caption" data-caption-id="'+thisMedia.caption.id+'">'+self.formatCaption(thisMedia.caption.text)+"</div>"),plugin.settings.date){var date=new Date(thisMedia.created_time*1e3),day=date.getDate(),month=date.getMonth()+1,year=date.getFullYear(),hours=date.getHours(),minutes=date.getMinutes(),seconds=date.getSeconds();date=month+"/"+day+"/"+year,item+='<div class="il-photo__date">'+date+"</div>"}plugin.settings.likes&&(item+='<div class="il-photo__likes">'+thisMedia.likes.count+"</div>"),(plugin.settings.captions||plugin.settings.date||plugin.settings.likes)&&(item+="</div>")}if(thisMedia.type==="video"&&plugin.settings.videos&&thisMedia.videos){var src;thisMedia.videos.standard_resolution?src=thisMedia.videos.standard_resolution.url:thisMedia.videos.low_resolution?src=thisMedia.videos.low_resolution.url:thisMedia.videos.low_bandwidth&&(src=thisMedia.videos.low_bandwidth.url),item='<video poster="'+thisMedia.images.standard_resolution.url+'" controls>',item+='<source src="'+src+'" type="video/mp4;"></source>',item+="</video>"}if(plugin.settings.list)if(i%4==0)var item='<li class="four columns alpha">'+item+"</li>";else if((i+1)%4==0)var item='<li class="four columns omega">'+item+"</li>";else var item='<li class="four columns">'+item+"</li>";el.append(item)}plugin.settings.max_id=self.getMaxId(data.data),plugin.settings.success.call(this)}else plugin.settings.error.call(this,data.meta.code,data.meta.error_message)},error:function(){plugin.settings.error.call(this)}})}):alert("An Instagram Access Token is required to display Instagram profile images.")}}(jQuery);
//# sourceMappingURL=/cdn/shop/t/63/assets/instafeed.js.map?v=30498147166931124511682632211
